# RFC-0001: Agent Work Marketplace Protocol (AWMP)

**Status:** Draft

## 1. Abstract

AWMP is a protocol for contracting work between principals (humans or agents) and providers (humans or agents), with:

- explicit scope and acceptance criteria
- least-privilege, time-boxed access grants
- tamper-evident audit logging
- milestone-based escrow settlement
- dispute-ready evidence bundles

The goal is an interoperable "marketplace plumbing" layer: any discovery layer can route jobs; any settlement rail (e.g., x402) can pay; any execution substrate (agent sandbox, human gig app, remote workspace) can deliver.

## 2. Goals / Non-goals

### Goals
- Make agent↔agent and agent↔human transactions safe and automatable.
- Standardize artifacts: `Job`, `Grant`, `Milestone`, `EvidenceBundle`, `Decision`.
- Support multiple rails via adapters (x402, stablecoin; fiat later).

### Non-goals
- Define a universal identity system (delegate to ASP / directories).
- Replace platform ToS / legal agreements.
- Solve generalized on-chain arbitration (define evidence, not courts).

## 3. Roles
- **Principal**: requests work; funds escrow; accepts/rejects.
- **Provider**: performs work; produces deliverables + evidence.
- **Broker** (optional): matches principal↔provider.
- **Workspace Host** (optional): issues sandbox + access grants.
- **Arbiter** (optional): resolves disputes using evidence bundle.

## 4. Objects (overview)
- `Job`: what work is requested, constraints, acceptance tests.
- `Milestone`: partial deliverables and payout splits.
- `Grant`: access rules + credentials envelope (never raw secrets in plain text).
- `EvidenceBundle`: commands, logs, hashes, diffs, artifacts.
- `Decision`: accept/reject/dispute with rationale and references.

## 5. Lifecycle (happy path)
1. Principal publishes `Job` (and optional milestones).
2. Provider bids / accepts posted rate.
3. Escrow is funded and locked.
4. Workspace Host issues `Grant` (scoped, revocable, expiring).
5. Provider executes and submits deliverable + `EvidenceBundle`.
6. Principal validates and issues `Decision=accept`.
7. Settlement releases funds per milestone.

## 6. Threat Model (minimum)
- Provider exfiltrates secrets / data.
- Provider makes unauthorized prod changes.
- Principal refuses to pay despite correct delivery.
- Provider submits malicious code.
- Broker/host tampers with logs.

## 7. Core Invariants
- Grants are **least-privilege** and **time-boxed**.
- Audit logs are **append-only** and **hash-chained**.
- Acceptance criteria are **machine-checkable** when possible.
- Payments are **milestone-gated**.
- Evidence bundles are sufficient for third-party arbitration.

## 8. Interop
AWMP is transport-agnostic:
- HTTP APIs
- GitHub issues/PR comments
- message buses (A2A)

Discovery is delegated to directories. Settlement is delegated to rails (e.g., x402).

## 9. Next
- Define JSON Schemas (see `/schemas`).
- Provide end-to-end examples (see `/examples`).
- Specify x402 settlement adapter.
